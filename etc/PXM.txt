PXM file format description
PXM file consists of a variable-length header and various blocks that depend on settings. The header must be a minimum of 52 bytes.

Compressed chunks are made using the zlib library and they can be independently extracted from the file and saved as separate .gz files if needed. These files can then be decompressed using any popular data compression utility, such as 7-Zip and WinRAR.
Header format:

    000 4-byte signature: "PXM "
    004 4-byte unsigned long: version number (for now it is always 2)
    008 4-byte unsigned long: version of the emulator used
    00C 1-byte flags:
        bit 0: reserved, set to 0
        bit 1:
              if "0", movie begins from power-on
              if "1", movie begins from an embedded savestate
        bit 2:
              if "0", NTSC timing
              if "1", PAL timing
        bit 3:
              if "0", movie does not contain embedded memory cards
              if "1", movie does contain embedded memory cards
        bit 4:
              if "0", movie does not contain embedded cheat list
              if "1", movie does contain embedded cheat list
        bit 5:
              if "0", movie does not use hacks
              if "1", movie does use hacks such as "SPU/SIO IRQ always enabled"
        other: reserved, set to 0
    00D 1-byte flags: reserved, set to 0
    00E 1-byte unsigned char: controller port 1 type
    00F 1-byte unsigned char: controller port 2 type
    010 4-byte unsigned long: number of frames
    014 4-byte unsigned long: rerecord count
    018 4-byte unsigned long: offset to the savestate inside file
    01C 4-byte unsigned long: offset to the memory card 1 inside file
    020 4-byte unsigned long: offset to the memory card 2 inside file
    024 4-byte unsigned long: offset to the cheat list inside file
    028 4-byte unsigned long: offset to the CD-ROM IDs inside file
    02C 4-byte unsigned long: offset to the controller data inside file
    030 4-byte unsigned long: string length of author's name
    034 string: name of the author

Savestate format:
After the header comes a compressed savestate. If the movie starts from power-on, the "savestate" is only 4 empty bytes.
Memory cards format:
After the savestate come two compressed memory cards. If the movie starts from a clean power-on, the "memory cards" are only 8 empty bytes (4 for each one).
Cheat list format:
After the memory cards comes a compressed cheat list. If the movie doesn't use them, the "cheat list" is only 4 empty bytes.
CD-ROM IDs format:
After the cheat list comes the CD-ROM ID chunk:

    000 1-byte char: how many CDs does the movie use
    001 9-byte string for each CD: CD-ROM ID of each CD used

Controller port type
Each of the two ports must have a controller attached. There is no exception.

ID	Controller Types	Bytes per Frame
01	Mouse               4
02	Negcon[1]           Unknown
03	Konami Gun[1]       Unknown
04	Standard            2
05	Analog Joystick     6
06	Namco Guncon[1]     Unknown
07	Analog Controller   6

[1] Note: These controller types are currently not supported by PCSX.
Controller data format
For each frame, player 1 comes first, then player 2, then the control byte.

For example, if the movie uses 2 standard controllers, it will use 5 bytes per frame (2 bytes for player 1, 2 bytes for player 2, and 1 byte for the control byte).

The corresponding bytes indicate which buttons are pressed at each frame for each controller.

Standard Controller:

    000 2-byte unsigned short:
       0001: L2
       0002: R2
       0004: L1
       0008: R1
       0010: Triangle
       0020: Circle
       0040: Cross
       0080: Square
       0100: Select
       0200: reserved
       0400: reserved
       0800: Start
       1000: Up
       2000: Right
       4000: Down
       8000: Left

Analog Joystick/Controller:

    000 2-byte unsigned short: same as standard
    002 1-byte unsigned char: left X[2]
    003 1-byte unsigned char: left Y[2]
    004 1-byte unsigned char: right X[2]
    005 1-byte unsigned char: right Y[2]

[2] Note: Values are in range 0-255, where 128 is center position.

Mouse:

    000 2-byte unsigned short: same as standard
    002 1-byte unsigned char: X movement[3]
    003 1-byte unsigned char: Y movement[3]

[3] Note: Values are in range 0-255, where 128 is center position.

Control Byte:

The corresponding bits indicate which functions are used at each frame.

    bit 1: Reset
    bit 2: Open/Close CD case
    bit 3: Enable/Disable "SIO IRQ Always Enabled" hack[4]
    bit 4: Enable/Disable "SPU IRQ Always Enabled" hack[4]
    bit 5: Enable/Disable cheats[5]
    bit 6: Enable/Disable "Resident Evil 2/3 fix" hack[4]
    bit 7: Enable/Disable "Parasite Eve 2 fix" hack[4]

[4] Note: These bits will be ignored at movie playback if the "hacks" header flag is not set.

[5] Note: This bit will be ignored at movie playback if the "cheats" header flag is not set. 